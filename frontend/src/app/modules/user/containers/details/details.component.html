<!-- <p>{{ seasons | json }}</p> -->
<div class="details">
  <main class="main">
    <div class="main__containerCover">
      <img
        class="main__cover"
        src="https://image.tmdb.org/t/p/w500{{ tvShow.poster_path }}"
        alt="Cover of TvShow {{ tvShow.name }}"
      />
    </div>
    <!-- <h1 class="main__title">{{ tvShow.name }}</h1> -->
    <div class="main__containerIcons">
      <div class="main__wrapperIcon">
        <svg
          class="main__icon"
          version="1.0"
          xmlns="http://www.w3.org/2000/svg"
          width="20.000000pt"
          height="20.000000pt"
          viewBox="0 0 20.000000 20.000000"
          preserveAspectRatio="xMidYMid meet"
        >
          <g
            transform="translate(0.000000,20.000000) scale(0.100000,-0.100000)"
            fill="#000000"
            stroke="none"
          >
            <path
              d="M10 159 c-17 -31 -6 -59 45 -109 l46 -45 50 52 c27 28 49 61 49 72 0
  41 -59 68 -88 39 -9 -9 -15 -9 -24 0 -20 20 -66 15 -78 -9z"
            />
          </g>
        </svg>
      </div>
      <div class="main__wrapperIcon">
        <svg
          class="main__icon"
          version="1.0"
          xmlns="http://www.w3.org/2000/svg"
          width="15.000000pt"
          height="19.000000pt"
          viewBox="0 0 15.000000 19.000000"
          preserveAspectRatio="xMidYMid meet"
        >
          <g
            transform="translate(0.000000,19.000000) scale(0.100000,-0.100000)"
            fill="#000000"
            stroke="none"
          >
            <path
              d="M0 95 c0 -90 1 -95 18 -86 10 5 24 17 32 25 17 22 26 20 66 -10 l34
  -26 0 96 0 96 -75 0 -75 0 0 -95z"
            />
          </g>
        </svg>
      </div>
      <div class="main__wrapperIcon">
        <svg
          class="main__icon main__icon--play"
          version="1.0"
          xmlns="http://www.w3.org/2000/svg"
          width="16.000000pt"
          height="18.000000pt"
          viewBox="0 0 16.000000 18.000000"
          preserveAspectRatio="xMidYMid meet"
        >
          <g
            transform="translate(0.000000,18.000000) scale(0.100000,-0.100000)"
            fill="#000000"
            stroke="none"
          >
            <path
              d="M10 90 c0 -56 4 -90 11 -90 15 0 129 79 129 90 0 11 -114 90 -129 90
  -7 0 -11 -34 -11 -90z"
            />
          </g>
        </svg>
      </div>
      <div class="main__wrapperIcon">
        <svg
          class="main__icon"
          width="4"
          height="17"
          viewBox="0 0 4 17"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0 0V3.19048H4V0H0ZM0 4.11905V17H4V4.11905H0Z"
            fill="black"
          />
        </svg>
      </div>
      <div class="main__wrapperIcon">
        <svg
          class="main__icon"
          width="19"
          height="22"
          viewBox="0 0 19 22"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M15.8333 15.5502C15.0311 15.5502 14.3133 15.8815 13.7644 16.4006L6.23833 11.8173C6.29111 11.5633 6.33333 11.3092 6.33333 11.0442C6.33333 10.7791 6.29111 10.5251 6.23833 10.2711L13.68 5.73193C14.25 6.28414 14.9994 6.62651 15.8333 6.62651C17.5856 6.62651 19 5.14659 19 3.31325C19 1.47992 17.5856 0 15.8333 0C14.0811 0 12.6667 1.47992 12.6667 3.31325C12.6667 3.57831 12.7089 3.83233 12.7617 4.08635L5.32 8.6255C4.75 8.07329 4.00056 7.73092 3.16667 7.73092C1.41444 7.73092 0 9.21084 0 11.0442C0 12.8775 1.41444 14.3574 3.16667 14.3574C4.00056 14.3574 4.75 14.0151 5.32 13.4629L12.8356 18.0572C12.7828 18.2892 12.7511 18.5321 12.7511 18.7751C12.7511 20.5532 14.1339 22 15.8333 22C17.5328 22 18.9156 20.5532 18.9156 18.7751C18.9156 16.997 17.5328 15.5502 15.8333 15.5502Z"
            fill="black"
          />
        </svg>
      </div>
    </div>
    <div class="main__containerDetails">
      <div class="main__wrapperDetail">
        <p class="main__ValueDetail">{{ tvShow.number_of_seasons }}</p>
        <p class="main__detail">Seasons</p>
      </div>
      <div class="main__wrapperDetail">
        <p class="main__ValueDetail" *ngIf="tvShow.in_production">
          In Production
        </p>
        <p class="main__ValueDetail" *ngIf="!tvShow.in_production">Finished</p>
        <p class="main__detail">Status</p>
      </div>

      <div class="main__wrapperDetail">
        <p class="main__ValueDetail">
          {{
            tvShow.last_air_date ? tvShow.last_air_date.substring(0, 4) : "none"
          }}
        </p>
        <p class="main__detail">Year</p>
      </div>
    </div>
  </main>
  <!-- ----------------DESCRIPTION------------------- -->
  <section class="section" *ngIf="tvShow.overview !== ''">
    <!-- <div class="header">
      <h2 class="header__headerTitle">Description</h2>
    </div>
    <div class="header__body">
      <p class="header__overview">{{ tvShow.overview }}</p>
    </div> -->
    <mat-expansion-panel
      disabled
      class="expansionPanel"
      hideToggle
      [expanded]="true"
    >
      <mat-expansion-panel-header class="expansionPanel__header">
        <img
          class="expansionPanel__headerIcon"
          src="../../../../../assets/icons/svgDetails/downArrow.svg"
          alt="Icon Down"
        />
        <h2 class="expansionPanel__headerTitle">Description</h2>
      </mat-expansion-panel-header>
      <div class="expansionPanel__body">
        <p class="expansionPanel__overview">{{ tvShow.overview }}</p>
      </div>
    </mat-expansion-panel>
  </section>
  <!-- ----------------EPISODES------------------- -->
  <section class="section">
    <mat-expansion-panel
      class="expansionPanel expansionPanel--season"
      (opened)="panelOpenState = true"
      (closed)="panelOpenState = false"
    >
      <mat-expansion-panel-header class="expansionPanel__header">
        <img
          class="expansionPanel__headerIcon"
          [ngClass]="
            panelOpenState ? 'expansionPanel__headerIcon--turnDown' : ''
          "
          src="../../../../../assets/icons/svgDetails/downArrow.svg"
          alt="Icon Down"
        />
        <h2 class="expansionPanel__headerTitle">Episodes</h2>
      </mat-expansion-panel-header>
      <div class="expansionPanel__body expansionPanel__body--season">
        <div class="containerSelect">
          <select
            class="select"
            id="select"
            name="select"
            [(ngModel)]="seasonSelected"
            (ngModelChange)="onChangeSeason(seasonSelected)"
          >
            <option
              class="option"
              *ngFor="let season of seasons"
              value="{{ season.season_number }}"
            >
              Season {{ season.season_number }}
            </option>
          </select>
          <label class="containerSelect__label" for="select">
            <img
              class="containerSelect__img"
              src="../../../../../assets/icons/details/arrow-circle-down-outline.svg"
              alt="arrow down"
            />
          </label>
        </div>
        <div *ngFor="let season of seasons">
          <ng-container *ngIf="season.season_number === selectSea">
            <div class="episode" *ngFor="let episode of season.episodes">
              <img
                class="episode__img"
                src="https://image.tmdb.org/t/p/w500{{
                  episode.still_path || tvShow.poster_path
                }}"
                alt="Cover of episode {{
                  episode.name || 'Episode ' + episode.episode_number
                }}"
              />
              <div class="episode__containerDetails">
                <h4 class="episode__name">
                  {{ episode.name || "Episode " + episode.episode_number }}
                </h4>
                <p class="episode__detail">
                  Season: {{ episode.season_number }}
                </p>
                <p class="episode__detail">
                  Director: {{ episode.director || "..." }}
                </p>
              </div>
            </div>
          </ng-container>
        </div>
        <!-- <mat-expansion-panel
          class="expansionPanel"
          hideToggle
          *ngFor="let season of seasons"
        >
          <mat-expansion-panel-header class="expansionPanel__header">
            <div class="expansionPanel__headerContainer">
              <h3 class="expansionPanel__headerTitle">
                Season {{ season.season_number }}
              </h3>
              <img
                class="expansionPanel__headerIcon"
                src="../../../../../assets/icons/svgDetails/downArrow.svg"
                alt="Icon Down"
              />
            </div>
          </mat-expansion-panel-header>
          <div class="expansionPanel__body expansionPanel__body--episode">
            <p
              class="episode--inProduction"
              *ngIf="season.episodes.length === 0"
            >
              In Production
            </p>
            <div class="episode" *ngFor="let episode of season.episodes">
              <img
                class="episode__img"
                src="https://image.tmdb.org/t/p/w500{{
                  episode.still_path || tvShow.poster_path
                }}"
                alt="Cover of episode {{
                  episode.name || 'Episode ' + episode.episode_number
                }}"
              />
              <div class="episode__containerDetails">
                <h4 class="episode__name">
                  {{ episode.name || "Episode " + episode.episode_number }}
                </h4>
                <p class="episode__detail">
                  Season: {{ episode.season_number }}
                </p>
                <p class="episode__detail">
                  Director: {{ episode.director || "..." }}
                </p>
              </div>
            </div>
          </div>
        </mat-expansion-panel> -->
      </div>
    </mat-expansion-panel>
  </section>
  <!-- -----------------REVIEWS-------------------- -->
  <section class="section">
    <mat-expansion-panel
      class="expansionPanel"
      (opened)="panelOpenStateReviews = true"
      (closed)="panelOpenStateReviews = false"
    >
      <mat-expansion-panel-header class="expansionPanel__header">
        <img
          class="expansionPanel__headerIcon"
          [ngClass]="
            panelOpenStateReviews ? 'expansionPanel__headerIcon--turnDown' : ''
          "
          src="../../../../../assets/icons/svgDetails/downArrow.svg"
          alt="Icon Down"
        />
        <h2 class="expansionPanel__headerTitle">Reviews</h2>
      </mat-expansion-panel-header>
      <div class="expansionPanel__body expansionPanel__body--reviews">
        <article class="review">
          
          <div class="review__containerUserData">
            <div class="review__containerRank">
              <svg
                class="review__starIcon"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12.0003 8.89961V14.7996L14.4003 16.6496L13.5003 13.5996L15.7503 11.9996H12.9503L12.0003 8.89961ZM12.0003 17.2996L8.30031 20.1246C8.11697 20.2746 7.91697 20.3453 7.70031 20.3366C7.48364 20.3286 7.29197 20.2663 7.12531 20.1496C6.95864 20.0329 6.82964 19.8746 6.73831 19.6746C6.64631 19.4746 6.64197 19.2579 6.72531 19.0246L8.15031 14.3996L4.52531 11.8246C4.32531 11.6913 4.20031 11.5163 4.15031 11.2996C4.10031 11.0829 4.10864 10.8829 4.17531 10.6996C4.24197 10.5163 4.35864 10.3536 4.52531 10.2116C4.69197 10.0703 4.89197 9.99961 5.12531 9.99961H9.60031L11.0503 5.19961C11.1336 4.96628 11.263 4.78694 11.4383 4.66161C11.613 4.53694 11.8003 4.47461 12.0003 4.47461C12.2003 4.47461 12.3876 4.53694 12.5623 4.66161C12.7376 4.78694 12.867 4.96628 12.9503 5.19961L14.4003 9.99961H18.8753C19.1086 9.99961 19.3086 10.0703 19.4753 10.2116C19.642 10.3536 19.7586 10.5163 19.8253 10.6996C19.892 10.8829 19.9003 11.0829 19.8503 11.2996C19.8003 11.5163 19.6753 11.6913 19.4753 11.8246L15.8503 14.3996L17.2753 19.0246C17.3586 19.2579 17.3546 19.4746 17.2633 19.6746C17.1713 19.8746 17.042 20.0329 16.8753 20.1496C16.7086 20.2663 16.517 20.3286 16.3003 20.3366C16.0836 20.3453 15.8836 20.2746 15.7003 20.1246L12.0003 17.2996Z"
                  fill="white"
                />
              </svg>
              <p class="review__rank">9/10</p>
            </div>
            <p class="review__user">Username</p>
            <p class="review__date">5/2/23</p>
          </div>
          <p class="review__data">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Non tempore
            accusamus quae nobis obcaecati ullam optio, similique eum magnam
            nulla soluta earum dolores suscipit harum provident veritatis
            distinctio. Beatae, repellat!
          </p>
        </article>
      </div>
    </mat-expansion-panel>
  </section>
</div>
