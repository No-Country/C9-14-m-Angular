<!-- <p>{{ seasons | json }}</p> -->
<div class="details">
  <main class="main">
    <div class="main__containerCover">
      <img
        class="main__cover"
        src="https://image.tmdb.org/t/p/w500{{ tvShow.poster_path }}"
        alt="Cover of TvShow {{ tvShow.name }}"
      />
    </div>
    <h1 class="main__title">{{ tvShow.name }}</h1>
    <div class="main__containerIcons">
      <svg
        class="main__icon"
        width="28"
        height="28"
        viewBox="0 0 28 28"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M15.1663 8.16732H12.833V12.834H8.16634V15.1673H12.833V19.834H15.1663V15.1673H19.833V12.834H15.1663V8.16732ZM13.9997 2.33398C7.55967 2.33398 2.33301 7.56065 2.33301 14.0007C2.33301 20.4407 7.55967 25.6673 13.9997 25.6673C20.4397 25.6673 25.6663 20.4407 25.6663 14.0007C25.6663 7.56065 20.4397 2.33398 13.9997 2.33398ZM13.9997 23.334C8.85467 23.334 4.66634 19.1457 4.66634 14.0007C4.66634 8.85565 8.85467 4.66732 13.9997 4.66732C19.1447 4.66732 23.333 8.85565 23.333 14.0007C23.333 19.1457 19.1447 23.334 13.9997 23.334Z"
          fill="white"
        />
      </svg>
      <svg
        class="main__icon"
        width="32"
        height="32"
        viewBox="0 0 32 32"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M14.2698 7.00073C14.0485 7.00073 13.8431 7.12073 13.7338 7.31273L9.27245 15.1434C8.68144 16.1816 8.43364 17.38 8.56445 18.5674L9.03511 22.8527C9.07591 23.2229 9.24085 23.5683 9.50307 23.8327C9.76529 24.0971 10.1093 24.2649 10.4791 24.3087L13.3018 24.6447C15.1652 24.8664 17.0545 24.6743 18.8351 24.0821C19.7151 23.7887 20.4191 23.1221 20.7578 22.2594L23.0298 16.4861C23.1528 16.1732 23.1903 15.8332 23.1385 15.501C23.0867 15.1689 22.9475 14.8565 22.7351 14.5959C22.5227 14.3353 22.2447 14.1359 21.9298 14.0182C21.6149 13.9005 21.2744 13.8687 20.9431 13.9261L16.3885 14.7167C16.0557 14.7745 15.7138 14.7505 15.3924 14.6468C15.0709 14.543 14.7795 14.3626 14.5433 14.1212C14.3071 13.8797 14.1332 13.5844 14.0365 13.2608C13.9398 12.9371 13.9234 12.5948 13.9885 12.2634L14.8751 7.73673C14.8926 7.64734 14.8901 7.55519 14.8678 7.46687C14.8455 7.37856 14.8039 7.29628 14.7461 7.22592C14.6882 7.15557 14.6155 7.0989 14.5332 7.05997C14.4508 7.02103 14.3609 7.0008 14.2698 7.00073ZM11.9965 6.32206C12.3031 5.78146 12.7923 5.36771 13.3763 5.15493C13.9602 4.94215 14.6009 4.94425 15.1835 5.16085C15.766 5.37745 16.2525 5.7944 16.5556 6.337C16.8587 6.87961 16.9588 7.51242 16.8378 8.12207L15.9511 12.6487C15.9476 12.6618 15.9476 12.6756 15.9511 12.6887C15.956 12.7014 15.9638 12.7128 15.9738 12.7221C15.983 12.7321 15.9944 12.7399 16.0071 12.7447C16.0201 12.7487 16.0339 12.7492 16.0471 12.7461L20.6005 11.9554C21.2816 11.8367 21.9821 11.9016 22.6299 12.1433C23.2777 12.385 23.8494 12.7949 24.2863 13.3307C24.7232 13.8666 25.0095 14.5092 25.1158 15.1924C25.2221 15.8756 25.1446 16.5748 24.8911 17.2181L22.6191 22.9914C22.3443 23.6899 21.9195 24.3196 21.3746 24.8359C20.8297 25.3522 20.1781 25.7426 19.4658 25.9794C17.4064 26.6647 15.2211 26.8874 13.0658 26.6314L10.2431 26.2954C9.42428 26.1981 8.66255 25.8263 8.08214 25.2406C7.50174 24.6548 7.1369 23.8898 7.04712 23.0701L6.57645 18.7861C6.39992 17.179 6.73593 15.5573 7.53645 14.1527L11.9965 6.32206Z"
          fill="white"
        />
      </svg>
      <svg
        class="main__icon"
        width="32"
        height="32"
        viewBox="0 0 32 32"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M12.667 12.4327V19.566C12.667 20.0993 12.9003 20.4882 13.367 20.7327C13.8337 20.9771 14.2892 20.9549 14.7337 20.666L20.267 17.1327C20.6892 16.8882 20.9003 16.5105 20.9003 15.9993C20.9003 15.4882 20.6892 15.1105 20.267 14.866L14.7337 11.3327C14.2892 11.0438 13.8337 11.0216 13.367 11.266C12.9003 11.5105 12.667 11.8993 12.667 12.4327ZM16.0003 29.3327C14.1559 29.3327 12.4225 28.9825 10.8003 28.282C9.1781 27.5825 7.76699 26.6327 6.56699 25.4327C5.36699 24.2327 4.41721 22.8216 3.71766 21.1993C3.01721 19.5771 2.66699 17.8438 2.66699 15.9993C2.66699 14.1549 3.01721 12.4216 3.71766 10.7993C4.41721 9.17713 5.36699 7.76602 6.56699 6.56602C7.76699 5.36602 9.1781 4.41579 10.8003 3.71535C12.4225 3.01579 14.1559 2.66602 16.0003 2.66602C17.8448 2.66602 19.5781 3.01579 21.2003 3.71535C22.8225 4.41579 24.2337 5.36602 25.4337 6.56602C26.6337 7.76602 27.5834 9.17713 28.283 10.7993C28.9834 12.4216 29.3337 14.1549 29.3337 15.9993C29.3337 17.8438 28.9834 19.5771 28.283 21.1993C27.5834 22.8216 26.6337 24.2327 25.4337 25.4327C24.2337 26.6327 22.8225 27.5825 21.2003 28.282C19.5781 28.9825 17.8448 29.3327 16.0003 29.3327ZM16.0003 26.666C18.9559 26.666 21.4728 25.6273 23.551 23.55C25.6283 21.4718 26.667 18.9549 26.667 15.9993C26.667 13.0438 25.6283 10.5269 23.551 8.44868C21.4728 6.37135 18.9559 5.33268 16.0003 5.33268C13.0448 5.33268 10.5283 6.37135 8.45099 8.44868C6.37277 10.5269 5.33366 13.0438 5.33366 15.9993C5.33366 18.9549 6.37277 21.4718 8.45099 23.55C10.5283 25.6273 13.0448 26.666 16.0003 26.666Z"
          fill="white"
        />
      </svg>
      <svg
        class="main__icon"
        width="28"
        height="28"
        viewBox="0 0 28 28"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M13.9997 19.834C14.3302 19.834 14.6075 19.722 14.8315 19.498C15.0547 19.2748 15.1663 18.9979 15.1663 18.6673V13.9715C15.1663 13.6409 15.0547 13.3687 14.8315 13.1548C14.6075 12.9409 14.3302 12.834 13.9997 12.834C13.6691 12.834 13.3922 12.9456 13.169 13.1688C12.945 13.3928 12.833 13.6701 12.833 14.0007V18.6965C12.833 19.027 12.945 19.2993 13.169 19.5132C13.3922 19.727 13.6691 19.834 13.9997 19.834ZM13.9997 10.5007C14.3302 10.5007 14.6075 10.3887 14.8315 10.1647C15.0547 9.94143 15.1663 9.66454 15.1663 9.33398C15.1663 9.00343 15.0547 8.72615 14.8315 8.50215C14.6075 8.27893 14.3302 8.16732 13.9997 8.16732C13.6691 8.16732 13.3922 8.27893 13.169 8.50215C12.945 8.72615 12.833 9.00343 12.833 9.33398C12.833 9.66454 12.945 9.94143 13.169 10.1647C13.3922 10.3887 13.6691 10.5007 13.9997 10.5007ZM13.9997 25.6673C12.3858 25.6673 10.8691 25.3609 9.44967 24.748C8.03023 24.1359 6.79551 23.3048 5.74551 22.2548C4.69551 21.2048 3.86445 19.9701 3.25234 18.5506C2.63945 17.1312 2.33301 15.6145 2.33301 14.0007C2.33301 12.3868 2.63945 10.8701 3.25234 9.45065C3.86445 8.03121 4.69551 6.79648 5.74551 5.74648C6.79551 4.69648 8.03023 3.86504 9.44967 3.25215C10.8691 2.64004 12.3858 2.33398 13.9997 2.33398C15.6136 2.33398 17.1302 2.64004 18.5497 3.25215C19.9691 3.86504 21.2038 4.69648 22.2538 5.74648C23.3038 6.79648 24.1349 8.03121 24.747 9.45065C25.3599 10.8701 25.6663 12.3868 25.6663 14.0007C25.6663 15.6145 25.3599 17.1312 24.747 18.5506C24.1349 19.9701 23.3038 21.2048 22.2538 22.2548C21.2038 23.3048 19.9691 24.1359 18.5497 24.748C17.1302 25.3609 15.6136 25.6673 13.9997 25.6673ZM13.9997 23.334C16.5858 23.334 18.7881 22.4251 20.6065 20.6075C22.4242 18.789 23.333 16.5868 23.333 14.0007C23.333 11.4145 22.4242 9.21226 20.6065 7.39382C18.7881 5.57615 16.5858 4.66732 13.9997 4.66732C11.4136 4.66732 9.21167 5.57615 7.39401 7.39382C5.57556 9.21226 4.66634 11.4145 4.66634 14.0007C4.66634 16.5868 5.57556 18.789 7.39401 20.6075C9.21167 22.4251 11.4136 23.334 13.9997 23.334Z"
          fill="white"
        />
      </svg>
      <svg
        class="main__icon"
        width="28"
        height="28"
        viewBox="0 0 28 28"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M21 18.7607C20.1133 18.7607 19.32 19.1107 18.7133 19.659L10.395 14.8173C10.4533 14.549 10.5 14.2807 10.5 14.0007C10.5 13.7207 10.4533 13.4523 10.395 13.184L18.62 8.38898C19.25 8.97232 20.0783 9.33398 21 9.33398C22.9367 9.33398 24.5 7.77065 24.5 5.83398C24.5 3.89732 22.9367 2.33398 21 2.33398C19.0633 2.33398 17.5 3.89732 17.5 5.83398C17.5 6.11398 17.5467 6.38232 17.605 6.65065L9.38 11.4457C8.75 10.8623 7.92167 10.5007 7 10.5007C5.06333 10.5007 3.5 12.064 3.5 14.0007C3.5 15.9373 5.06333 17.5007 7 17.5007C7.92167 17.5007 8.75 17.139 9.38 16.5556L17.6867 21.409C17.6283 21.654 17.5933 21.9107 17.5933 22.1673C17.5933 24.0457 19.1217 25.574 21 25.574C22.8783 25.574 24.4067 24.0457 24.4067 22.1673C24.4067 20.289 22.8783 18.7607 21 18.7607Z"
          fill="white"
        />
      </svg>
    </div>
    <div class="main__containerDetails">
      <p class="main__detail">{{ tvShow.number_of_seasons }} Seasons</p>
      <p class="main__detail" *ngIf="tvShow.in_production">In Production</p>
      <p class="main__detail" *ngIf="!tvShow.in_production">Finished</p>
      <p class="main__detail">
        {{
          tvShow.last_air_date ? tvShow.last_air_date.substring(0, 4) : "none"
        }}
      </p>
    </div>
  </main>
  <section class="section">
    <mat-expansion-panel class="expansionPanel" hideToggle [expanded]="true">
      <mat-expansion-panel-header class="expansionPanel__header">
        <img
          class="expansionPanel__headerIcon"
          src="../../../../../assets/icons/details/arrow-circle-down-outline.svg"
          alt="Icon Down"
        />
        <h2 class="expansionPanel__headerTitle">Description</h2>
      </mat-expansion-panel-header>
      <div class="expansionPanel__body">
        <p class="expansionPanel__overview">{{ tvShow.overview }}</p>
      </div>
    </mat-expansion-panel>
  </section>
  <section class="section">
    <mat-expansion-panel
      class="expansionPanel expansionPanel--season"
      (opened)="panelOpenState = true"
      (closed)="panelOpenState = false"
    >
      <mat-expansion-panel-header class="expansionPanel__header">
        <img
          class="expansionPanel__headerIcon"
          src="../../../../../assets/icons/details/arrow-circle-down-outline.svg"
          alt="Icon Down"
        />
        <h2 class="expansionPanel__headerTitle">Episodes</h2>
      </mat-expansion-panel-header>
      <div class="expansionPanel__body expansionPanel__body--season">
        <mat-expansion-panel
          class="expansionPanel"
          hideToggle
          *ngFor="let season of seasons"
        >
          <mat-expansion-panel-header class="expansionPanel__header">
            <div class="expansionPanel__headerContainer">
              <h3 class="expansionPanel__headerTitle">
                Season {{ season.season_number }}
              </h3>
              <img
                class="expansionPanel__headerIcon"
                src="../../../../../assets/icons/details/arrow-circle-down-outline.svg"
                alt="Icon Down"
              />
            </div>
          </mat-expansion-panel-header>
          <div class="expansionPanel__body expansionPanel__body--episode">
            <p
              class="episode--inProduction"
              *ngIf="season.episodes.length === 0"
            >
              In Production
            </p>
            <div class="episode" *ngFor="let episode of season.episodes">
              <img
                class="episode__img"
                src="https://image.tmdb.org/t/p/w500{{
                  episode.still_path || tvShow.poster_path
                }}"
                alt="Cover of episode {{
                  episode.name || 'Episode ' + episode.episode_number
                }}"
              />
              <div class="episode__containerDetails">
                <h4 class="episode__name">
                  {{ episode.name || "Episode " + episode.episode_number }}
                </h4>
                <p class="episode__detail">
                  Season: {{ episode.season_number }}
                </p>
                <p class="episode__detail">
                  Director: {{ episode.director || "..." }}
                </p>
              </div>
            </div>
          </div>
        </mat-expansion-panel>
      </div>
    </mat-expansion-panel>
  </section>
  <section class="section">
    <mat-expansion-panel
      class="expansionPanel"
      (opened)="panelOpenStateReviews = true"
      (closed)="panelOpenStateReviews = false"
    >
      <mat-expansion-panel-header class="expansionPanel__header">
        <img
          class="expansionPanel__headerIcon"
          src="../../../../../assets/icons/details/arrow-circle-down-outline.svg"
          alt="Icon Down"
        />
        <h2 class="expansionPanel__headerTitle">Reviews</h2>
      </mat-expansion-panel-header>
      <div class="expansionPanel__body expansionPanel__body--reviews">
        <article class="review">
          <div class="review__containerTitle">
            <div class="review__containerRank">
              <svg
                class="review__starIcon"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12.0003 8.89961V14.7996L14.4003 16.6496L13.5003 13.5996L15.7503 11.9996H12.9503L12.0003 8.89961ZM12.0003 17.2996L8.30031 20.1246C8.11697 20.2746 7.91697 20.3453 7.70031 20.3366C7.48364 20.3286 7.29197 20.2663 7.12531 20.1496C6.95864 20.0329 6.82964 19.8746 6.73831 19.6746C6.64631 19.4746 6.64197 19.2579 6.72531 19.0246L8.15031 14.3996L4.52531 11.8246C4.32531 11.6913 4.20031 11.5163 4.15031 11.2996C4.10031 11.0829 4.10864 10.8829 4.17531 10.6996C4.24197 10.5163 4.35864 10.3536 4.52531 10.2116C4.69197 10.0703 4.89197 9.99961 5.12531 9.99961H9.60031L11.0503 5.19961C11.1336 4.96628 11.263 4.78694 11.4383 4.66161C11.613 4.53694 11.8003 4.47461 12.0003 4.47461C12.2003 4.47461 12.3876 4.53694 12.5623 4.66161C12.7376 4.78694 12.867 4.96628 12.9503 5.19961L14.4003 9.99961H18.8753C19.1086 9.99961 19.3086 10.0703 19.4753 10.2116C19.642 10.3536 19.7586 10.5163 19.8253 10.6996C19.892 10.8829 19.9003 11.0829 19.8503 11.2996C19.8003 11.5163 19.6753 11.6913 19.4753 11.8246L15.8503 14.3996L17.2753 19.0246C17.3586 19.2579 17.3546 19.4746 17.2633 19.6746C17.1713 19.8746 17.042 20.0329 16.8753 20.1496C16.7086 20.2663 16.517 20.3286 16.3003 20.3366C16.0836 20.3453 15.8836 20.2746 15.7003 20.1246L12.0003 17.2996Z"
                  fill="white"
                />
              </svg>
              <p class="review__rank">9/10</p>
            </div>
            <h3 class="review__title">Review Title</h3>
          </div>
          <div class="review__containerUserData">
            <p class="review__user">Username</p>
            <p class="review__date">5/2/23</p>
          </div>
          <p class="review__data">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Non tempore
            accusamus quae nobis obcaecati ullam optio, similique eum magnam
            nulla soluta earum dolores suscipit harum provident veritatis
            distinctio. Beatae, repellat!
          </p>
        </article>
      </div>
    </mat-expansion-panel>
  </section>
</div>
